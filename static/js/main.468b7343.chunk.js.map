{"version":3,"sources":["Albums.js","App.js","index.js"],"names":["useStyles","makeStyles","theme","albumList","display","listStyle","albumContent","backgroundColor","margin","flexDirection","albumCover","width","height","breakpoints","down","description","justifyContent","alignSelf","gap","albumTitle","fontSize","artistName","releaseDate","color","cardButton","Albums","props","artist","filterDate","albumsFiltered","albums","filter","album","release_date","classes","length","map","index","className","key","src","images","url","title","name","alt","Link","href","external_urls","spotify","target","rel","underline","Button","variant","size","App","today","Date","useState","numFollowed","setNumFollowed","user","setUser","artists","setArtists","filterString","setFilterString","currentFilterDate","getMonth","getFullYear","slice","getDate","setFilterDate","error","setError","useEffect","fetchData","catch","err","a","fetch","userResponse","json","userJson","display_name","artistsResponse","artistsJson","sort","b","nameA","toLowerCase","nameB","artistsToRender","includes","centered","alignItems","marginTop","marginBottom","followedArtists","artistFilter","marginRight","dateFilter","grid","gridAutoRows","footer","padding","spacing","borderTop","darkTheme","createMuiTheme","palette","type","overrides","MuiInputLabel","root","MuiInput","borderBottom","typography","h2","up","h3","ThemeProvider","Container","maxWidth","Typography","component","TextField","label","onChange","text","value","utils","DateFnsUtils","disableFuture","placeholder","format","event","values","toLocaleDateString","split","year","day","newFilterDate","handleDateChange","Grid","CircularProgress","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.468b7343.chunk.js","sourcesContent":["import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Button from '@material-ui/core/Button'\nimport Link from '@material-ui/core/Link'\n\nconst useStyles = makeStyles((theme) => ({\n  albumList: {\n    display: 'inline-block',\n    listStyle: 'none',\n  },\n  albumContent: {\n    backgroundColor: '#424242',\n    margin: '5px',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  albumCover: {\n    width: '400px',\n    height: '400px',\n    [theme.breakpoints.down('md')]: {\n      width: '275px',\n      height: '275px',\n    },\n  },\n  description: {\n    width: '375px',\n    height: '200px',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignSelf: 'center',\n    gap: '1rem',\n    [theme.breakpoints.down('md')]: {\n      width: '250px',\n      height: '200px',\n    },\n  },\n  albumTitle: {\n    fontSize: '1.25rem',\n    [theme.breakpoints.down('md')]: {\n      fontSize: '1rem',\n    },\n  },\n  artistName: {\n    fontSize: '1.25rem',\n    [theme.breakpoints.down('md')]: {\n      fontSize: '1rem',\n    },\n  },\n  releaseDate: {\n    color: '#e0e0e0',\n    [theme.breakpoints.down('md')]: {\n      fontSize: '0.75rem',\n    },\n  },\n  cardButton: {\n    backgroundColor: '#1DB954',\n    '&:hover': {\n      backgroundColor: 'rgba(30,215,96,0.8)',\n    },\n  },\n}))\n\nexport default function Albums(props) {\n  let artist = props.artist\n  let filterDate = props.filterDate\n  let albumsFiltered = artist.albums.filter(\n    (album) => album.release_date >= filterDate,\n  )\n  const classes = useStyles()\n  if (albumsFiltered.length === 0) {\n    return <></>\n  }\n\n  return (\n    <>\n      {albumsFiltered.map((albums, index) => (\n        <li className={classes.albumList} key={index}>\n          <div className={classes.albumContent}>\n            <img\n              className={classes.albumCover}\n              src={albums.images[0].url}\n              title={albums.name}\n              alt={albums.name}\n            />\n            <div className={classes.description}>\n              <div className={classes.albumTitle}>{albums.name}</div>\n              <div className={classes.artistName}>{artist.name}</div>\n              <div className={classes.releaseDate}>\n                Release Date: {albums.release_date}\n              </div>\n              <Link\n                href={albums.external_urls.spotify}\n                target='_blank'\n                rel='noopener'\n                underline='none'\n              >\n                <Button\n                  className={classes.cardButton}\n                  variant='contained'\n                  size='small'\n                >\n                  Open In Spotify\n                </Button>\n              </Link>\n            </div>\n          </div>\n        </li>\n      ))}\n    </>\n  )\n}\n","import React, { useState, useEffect, Fragment } from 'react'\nimport Albums from './Albums'\nimport './App.css'\nimport DateFnsUtils from '@date-io/date-fns/build'\nimport { KeyboardDatePicker, MuiPickersUtilsProvider } from '@material-ui/pickers'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles, ThemeProvider, createMuiTheme } from '@material-ui/core/styles'\nimport Container from '@material-ui/core/Container'\nimport Grid from '@material-ui/core/Grid'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nfunction App() {\n  let today = new Date()\n  const [numFollowed, setNumFollowed] = useState(0)\n  const [user, setUser] = useState({\n    name: '',\n  })\n  const [artists, setArtists] = useState([\n    {\n      name: '',\n      href: '',\n      albums: [],\n    },\n  ])\n  const [filterString, setFilterString] = useState('')\n  let currentFilterDate =\n    today.getMonth() === 0\n      ? today.getFullYear() - 1\n      : today.getFullYear() +\n        '-' +\n        ('0' + (today.getMonth() === 0 ? 12 : today.getMonth())).slice(-2) +\n        '-' +\n        ('0' + today.getDate()).slice(-2)\n  const [filterDate, setFilterDate] = useState(currentFilterDate)\n  const [error, setError] = useState(false)\n\n  useEffect(() => {\n    fetchData().catch((err) => setError(true))\n  }, [])\n\n  const fetchData = async () => {\n    // const userResponse = await fetch('http://127.0.0.1:5000/api/get-user')\n    const userResponse = await fetch('https://spotipynewreleasesbackend.herokuapp.com/api/get-user')\n    const userJson = await userResponse.json()\n    // console.log(userJson)\n    setUser({\n      name: userJson.display_name,\n    })\n\n    // const artistsResponse = await fetch('http://127.0.0.1:5000/api/get-artists')\n    const artistsResponse = await fetch('https://spotipynewreleasesbackend.herokuapp.com/api/get-artists')\n    const artistsJson = await artistsResponse.json()\n    // console.log(artistsJson)\n    setArtists((artists) => [\n      ...artists,\n      ...artistsJson.artists.sort((a, b) => {\n        let nameA = a.name.toLowerCase()\n        let nameB = b.name.toLowerCase()\n        if (nameA < nameB) return -1\n        if (nameA > nameB) return 1\n        return 0\n      }),\n    ])\n    setNumFollowed(numFollowed + artistsJson.artists.length)\n  }\n\n  // array of followed artists\n  let artistsToRender =\n    user && artists // checks if there is a user that follows at least one artist\n      ? artists.filter(\n          (artists) => artists.name !== '' && artists.name.toLowerCase().includes(filterString.toLowerCase()),\n        )\n      : []\n\n  const handleDateChange = (event) => {\n    let date = event.toLocaleDateString()\n    let values = date.split('/')\n    let year = values[2]\n    let day = values[1]\n    let month = values[0]\n    let newFilterDate = year + '-' + ('0' + month).slice(-2) + '-' + ('0' + day).slice(-2)\n    setFilterDate(newFilterDate)\n  }\n\n  const useStyles = makeStyles((theme) => ({\n    centered: {\n      height: '100vh',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n    user: {\n      marginTop: '25px',\n      marginBottom: '10px',\n    },\n    followedArtists: {\n      marginBottom: '10px',\n    },\n    artistFilter: {\n      marginRight: '10px',\n      marginBottom: '10px',\n    },\n    dateFilter: {\n      marginBottom: '50px',\n    },\n    grid: {\n      gridAutoRows: '1fr',\n    },\n    footer: {\n      padding: theme.spacing(5, 2),\n      marginTop: '50px',\n      borderTop: '1px solid rgba(240,240,240,0.2)',\n    },\n  }))\n  const classes = useStyles()\n\n  const darkTheme = createMuiTheme({\n    palette: {\n      type: 'dark',\n    },\n    overrides: {\n      MuiInputLabel: {\n        root: {\n          '&$focused': {\n            color: '#fff',\n          },\n        },\n      },\n      MuiInput: {\n        underline: {\n          '&:after': {\n            borderBottom: '2px solid white',\n          },\n        },\n      },\n    },\n  })\n\n  darkTheme.typography.h2 = {\n    fontSize: '2.4rem',\n    '@media (min-width:600px)': {\n      fontSize: '3.0rem',\n    },\n    [darkTheme.breakpoints.up('md')]: {\n      fontSize: '4rem',\n    },\n  }\n\n  darkTheme.typography.h3 = {\n    fontSize: '1.5rem',\n    '@media (min-width:600px)': {\n      fontSize: '2.5rem',\n    },\n    [darkTheme.breakpoints.up('md')]: {\n      fontSize: '3.0rem',\n    },\n  }\n\n  return (\n    <div className='App'>\n      {numFollowed !== 0 ? (\n        <ThemeProvider theme={darkTheme}>\n          <Container maxWidth='xl'>\n            <Typography variant='h2' component='h1' className={classes.user}>\n              {user.name}'s New Releases\n            </Typography>\n            <Typography variant='h3' component='h3' className={classes.followedArtists}>\n              {numFollowed} followed artists\n            </Typography>\n            <TextField\n              className={classes.artistFilter}\n              label='Filter by Artist Name'\n              onChange={(text) => {\n                setFilterString(text.target.value)\n              }}\n            />\n            <MuiPickersUtilsProvider utils={DateFnsUtils}>\n              <KeyboardDatePicker\n                className={classes.dateFilter}\n                disableFuture\n                label='Filter by Release Date'\n                value={filterDate}\n                placeholder={filterDate}\n                format='MM/dd/yyyy'\n                onChange={(event) => handleDateChange(event)}\n              />\n            </MuiPickersUtilsProvider>\n            <Grid className={classes.grid}>\n              {artistsToRender.map((artist, index) => (\n                <Albums key={`${artist.name}${index}`} artist={artist} filterDate={filterDate} />\n              ))}\n            </Grid>\n          </Container>\n          <footer className={classes.footer}>\n            <Typography variant='body2'>\n              {'Copyright © '}\n              {new Date().getFullYear()} Jason O'Dell\n            </Typography>\n          </footer>\n        </ThemeProvider>\n      ) : error ? (\n        <Fragment>\n          <Container className={classes.centered}>\n            <Typography variant='h3'>Error</Typography>\n          </Container>\n        </Fragment>\n      ) : (\n        <Fragment>\n          <Container className={classes.centered}>\n            <CircularProgress size={80} />\n          </Container>\n        </Fragment>\n      )}\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}